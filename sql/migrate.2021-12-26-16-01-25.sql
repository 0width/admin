CREATE TABLE `dept` (`id` bigint unsigned AUTO_INCREMENT,`created_at` datetime(3) NULL,`updated_at` datetime(3) NULL,`deleted_at` datetime(3) NULL,`parent_id` bigint unsigned,`ancestors` varchar(64) COMMENT '祖级列表',`name` varchar(64),`order` int,`leader` varchar(64),`phone` varchar(16),`status` tinyint,PRIMARY KEY (`id`),INDEX idx_dept_deleted_at (`deleted_at`));
CREATE TABLE `menu` (`id` bigint unsigned AUTO_INCREMENT,`created_at` datetime(3) NULL,`updated_at` datetime(3) NULL,`deleted_at` datetime(3) NULL,`name` varchar(64) COMMENT '菜单路由名称',`title` varchar(64) COMMENT '菜单名称',`icon` varchar(64) COMMENT '图标',`path` varchar(64) COMMENT '路由path',`query` varchar(511) COMMENT '路由参数',`redirect` varchar(64) COMMENT '路由redirect',`component` varchar(64) COMMENT '组件',`order` int NOT NULL DEFAULT 0 COMMENT '菜单顺序',`parent_id` bigint unsigned NOT NULL DEFAULT 0 COMMENT '父菜单ID',`remark` varchar(255) COMMENT '备注',`perm` varchar(64) COMMENT '权限标识',`type` tinyint COMMENT '1:目录 2:菜单 3:按钮',`status` tinyint NOT NULL DEFAULT 0 COMMENT '0: 正常 1: 停用',`visible` tinyint NOT NULL DEFAULT 0 COMMENT '0: 正常 1: 隐藏',PRIMARY KEY (`id`),INDEX idx_menu_deleted_at (`deleted_at`),INDEX idx_menu_perm (`perm`));
CREATE TABLE `role` (`id` bigint unsigned AUTO_INCREMENT,`created_at` datetime(3) NULL,`updated_at` datetime(3) NULL,`deleted_at` datetime(3) NULL,`name` varchar(255),`sort` int COMMENT '显示顺序',`status` tinyint DEFAULT 0 COMMENT '0: 正常 1: 停用',`remark` varchar(1023) COMMENT '备注',PRIMARY KEY (`id`),INDEX idx_role_deleted_at (`deleted_at`));
CREATE TABLE `role_menu` (`role_id` bigint unsigned,`menu_id` bigint unsigned,PRIMARY KEY (`role_id`,`menu_id`));
CREATE TABLE `user` (`id` bigint unsigned AUTO_INCREMENT,`created_at` datetime(3) NULL,`updated_at` datetime(3) NULL,`deleted_at` datetime(3) NULL,`name` varchar(255),`password` varchar(64),`nick_name` varchar(255) COMMENT '昵称',`email` varchar(255),`phone` varchar(16),`sex` tinyint COMMENT '1: 男 2: 女 3: 未知',`status` tinyint DEFAULT 0 COMMENT '0: 正常 1: 停用',`avatar` varchar(255),`remark` varchar(1023) COMMENT '备注',`dept_id` bigint unsigned COMMENT '部门ID',PRIMARY KEY (`id`),INDEX idx_user_deleted_at (`deleted_at`),INDEX idx_user_name (`name`));
CREATE TABLE `user_role` (`user_id` bigint unsigned,`role_id` bigint unsigned,PRIMARY KEY (`user_id`,`role_id`));
CREATE TABLE `post` (`id` bigint unsigned AUTO_INCREMENT,`created_at` datetime(3) NULL,`updated_at` datetime(3) NULL,`deleted_at` datetime(3) NULL,PRIMARY KEY (`id`),INDEX idx_post_deleted_at (`deleted_at`));
